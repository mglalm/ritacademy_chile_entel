-- Ericsson Software Inc. 2001-2012

-- DATABASE UPGRADE SCRIPT OF ecm FROM PRODUCT NO  TO PRODUCT NO 20140910
-- DATABASE UPGRADE SCRIPT OF catalog. PRODUCT NO 00006018
-- DATABASE UPGRADE SCRIPT OF api_common. PRODUCT NO 20130410
-- DATABASE UPGRADE SCRIPT OF EOCCOBRAS FROM PRODUCT NO 00000001 TO PRODUCT NO 1
-- DATABASE UPGRADE SCRIPT OF SIDCommon. PRODUCT NO 00005201
-- DATABASE UPGRADE SCRIPT OF cwl_security. PRODUCT NO 20120817
-- DATABASE UPGRADE SCRIPT OF ecmDTLib FROM PRODUCT NO  TO PRODUCT NO 20140328
-- DATABASE UPGRADE SCRIPT OF ecmCS6import. PRODUCT NO 00000001
-- DATABASE UPGRADE SCRIPT OF cwl_config. PRODUCT NO 20131210
-- DATABASE UPGRADE SCRIPT OF serviceOrchestrationFramework. PRODUCT NO 20120815
-- DATABASE UPGRADE SCRIPT OF ecmBillingAdapterValidation FROM PRODUCT NO  TO PRODUCT NO 1
-- DATABASE UPGRADE SCRIPT OF cwt_common5. PRODUCT NO 20130315
-- DATABASE UPGRADE SCRIPT OF cwl_ims. PRODUCT NO 20130319
-- DATABASE UPGRADE SCRIPT OF catalogClient FROM PRODUCT NO 00006001 TO PRODUCT NO 00006003


-- ATTENTION: THIS SCRIPT HAS TO BE EXAMINED BY DATABASE ADMINISTRATOR!
--            IT MAY NOT CONTAIN ALL NEEDED PARAMETERS.
--            MODIFY THE SCRIPT TO SPECIFY PROPER TABLESPACE AND STORAGE CLAUSES


-- WARNING : PLEASE REVIEW THE FOLLOWING NCLOB (UNLIMITED LENGTH) TYPES:
-- TREE
-- PARAMS



-- Generated by Ericsson Service Designer on Wed Mar 01 10:49:21 CLT 2017


-- THE FOLLOWING STATEMENTS APPLY TO 'c##train3:orcl@localhost' DATABASE ------------------------------- 


define DEFAULT_TABLESPACE_TABLE = USERS;
define DEFAULT_TABLESPACE_INDEX = USERS;
define PE_TABLESPACE_TABLE = USERS;
define PE_TABLESPACE_INDEX = USERS;

CREATE TABLE c##train3.CWPC_BUSINESSDATEDEFINITION(
	CODE VARCHAR2(32) NOT NULL,
	NAME VARCHAR2(128),
	DATETYPE VARCHAR2(32),
	DATEVALUELEAFNAME VARCHAR2(32),
	RELATEDDATECODE VARCHAR2(32),
	STATUS VARCHAR2(3),
	STARTDATE DATE,
	ENDDATE DATE,
	PERIODCODE VARCHAR2(32),
	PERIODNAME VARCHAR2(10),
	LASTUPDATEDDATE DATE,
	UPDATEDBY VARCHAR2(64),
	CREATEDBY VARCHAR2(64),
	CREATEDDATE DATE,
	OWNERID VARCHAR2(32),
	LABEL VARCHAR2(10),
	CONSTRAINT PK_CWPC_BUSINESSDATEDEFINITION PRIMARY KEY(CODE) USING INDEX
	(CREATE UNIQUE INDEX PK_CWPC_BUSINESSDATEDEFINITION ON CWPC_BUSINESSDATEDEFINITION(CODE) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.CWPL_changeRequestType_Fps(
	ID VARCHAR2(16) NOT NULL,
	REQUESTTYPE VARCHAR2(30),
	WORKFLOWTEMPLATE VARCHAR2(16),
	CONSTRAINT PK_CWPL_changeRequestType_Fps PRIMARY KEY(ID) USING INDEX
	(CREATE UNIQUE INDEX PK_CWPL_changeRequestType_Fps ON CWPL_changeRequestType_Fps(ID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

ALTER TABLE c##train3.cwpc_itemAttribute_v
ADD (
	ISARRAY NUMBER(1),
	ARRAYSIZE NUMBER(4));

ALTER TABLE c##train3.CWPC_CHARGETYPE_V
ADD (
	VERSION VARCHAR2(32),
	CHARGECATEGORY VARCHAR2(32),
	DISCOUNTTARGETPLAID VARCHAR2(32),
	PLATYPE VARCHAR2(32),
	PRODUCTACCOUNTSPECID VARCHAR2(32),
	PRORATED NUMBER(1),
	RECURRINGPERIODLENGTH NUMBER(3),
	RECURRINGPERIODTYPE VARCHAR2(32),
	ISSPEC NUMBER(1),
	PLASPECID VARCHAR2(32),
	PROJECTCODE VARCHAR2(32),
	TARIFFTYPES VARCHAR2(1024),
	PRICINGTYPE VARCHAR2(32),
	RATINGOBJTYPE VARCHAR2(3),
	ID VARCHAR2(32),
	TARIFFTIMETIMEZONETYPE VARCHAR2(32));

CREATE TABLE c##train3.BSSF_RATING_PA_ACTIONPARM_MOCK(
	CWDOCID VARCHAR2(16) NOT NULL,
	ACTIONCODE VARCHAR2(32),
	PARAMCODE VARCHAR2(32),
	PARAMNAME VARCHAR2(64),
	DESCRIPTION VARCHAR2(128),
	SEQUENCE NUMBER(4),
	DATATYPE VARCHAR2(32),
	DATARANGE VARCHAR2(32),
	COLLECTIONTYPE VARCHAR2(32),
	CONFIGLEVEL VARCHAR2(32),
	CONSTRAINT PK_BSSF_RATING_PA_ACTIONPARM_M PRIMARY KEY(CWDOCID) USING INDEX
	(CREATE UNIQUE INDEX PK_BSSF_RATING_PA_ACTIONPARM_M ON BSSF_RATING_PA_ACTIONPARM_MOCK(CWDOCID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.BSSF_CHARGING_CAPABILITIES(
	CODE VARCHAR2(128) NOT NULL,
	NAME VARCHAR2(256),
	DESCRIPTION VARCHAR2(1024),
	TYPE VARCHAR2(16),
	LABEL VARCHAR2(256),
	CONSTRAINT PK_BSSF_CHARGING_CAPABILITIES PRIMARY KEY(CODE) USING INDEX
	(CREATE UNIQUE INDEX PK_BSSF_CHARGING_CAPABILITIES ON BSSF_CHARGING_CAPABILITIES(CODE) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

ALTER TABLE c##train3.cwpc_ruleParameters
ADD (
	DEFAULTVALUE VARCHAR2(4000));

ALTER TABLE c##train3.CWPC_ITEMBUSINESSDATES_V
ADD (
	BUSINESSDATESVALUE VARCHAR2(4000),
	ISFORMULA NUMBER(1));

ALTER TABLE c##train3.cwpc_attribute
 MODIFY (
	CODETABLENAME VARCHAR2(64));

ALTER TABLE c##train3.CWPC_CATALOGCONFIGURATION
ADD (
	ENABLEDELTA NUMBER(1),
	ACTIVATEWITHVALIDATIONERRORS NUMBER(1));

ALTER TABLE c##train3.CWPL_configTemplate
 MODIFY (
	CONFIGNAME VARCHAR2(64));

ALTER TABLE c##train3.CWT_MICROFLOW
ADD (
	METADATAPARAMETER VARCHAR2(256));

ALTER TABLE c##train3.CWT_TAS
ADD (
	OPERATION VARCHAR2(128),
	ISLISTENER NUMBER(1),
	ISAUTO NUMBER(1));

ALTER TABLE c##train3.CWT_TAI
ADD (
	ISAUTO NUMBER(1),
	ISLISTENER NUMBER(1));

ALTER TABLE c##train3.CWT_FPSTAS
ADD (
	CODE VARCHAR2(64),
	LABEL VARCHAR2(128),
	DESCRIPTION VARCHAR2(128));

CREATE TABLE c##train3.CWT_FPS_SPECIFICATION(
	ID VARCHAR2(16) NOT NULL,
	SPECNAME VARCHAR2(128),
	CONSTRAINT PK_CWT_FPS_SPECIFICATION PRIMARY KEY(ID) USING INDEX
	(CREATE UNIQUE INDEX PK_CWT_FPS_SPECIFICATION ON CWT_FPS_SPECIFICATION(ID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.CWT_FPS_ATTRIBUTES(
	ID VARCHAR2(16) NOT NULL,
	NAME VARCHAR2(128) NOT NULL,
	DATATYPE VARCHAR2(128),
	DESCRIPTION VARCHAR2(128),
	DEFAULTVALUE VARCHAR2(128),
	SPECID VARCHAR2(32),
	CONSTRAINT PK_CWT_FPS_ATTRIBUTES PRIMARY KEY(ID) USING INDEX
	(CREATE UNIQUE INDEX PK_CWT_FPS_ATTRIBUTES ON CWT_FPS_ATTRIBUTES(ID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

ALTER TABLE c##train3.CWT_FPI
ADD (
	ORDERITEMID VARCHAR2(16));

ALTER TABLE c##train3.CWT_CFS
 MODIFY (
	CFSNAME VARCHAR2(64));

CREATE TABLE c##train3.doc(
	CWDOCID VARCHAR2(16) NOT NULL,
	CWDOCSTAMP VARCHAR2(9),
	CWORDERCREATIONDATE DATE,
	CWORDERID VARCHAR2(16),
	CWPARENTID VARCHAR2(16),
	LASTUPDATEDDATE DATE,
	UPDATEDBY VARCHAR2(64),
	CONSTRAINT PK_doc PRIMARY KEY(CWDOCID) USING INDEX
	(CREATE UNIQUE INDEX PK_doc ON doc(CWDOCID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.BSSF_TE_GROUP_REL(
	ID VARCHAR2(16) NOT NULL,
	GROUPID VARCHAR2(32),
	GROUPVERSION VARCHAR2(32),
	TARIFFELEMENTID VARCHAR2(32),
	CONSTRAINT PK_BSSF_TE_GROUP_REL PRIMARY KEY(ID) USING INDEX
	(CREATE UNIQUE INDEX PK_BSSF_TE_GROUP_REL ON BSSF_TE_GROUP_REL(ID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.BSSF_TE_GROUP_V(
	ID VARCHAR2(32) NOT NULL,
	VERSION VARCHAR2(32) NOT NULL,
	NAME VARCHAR2(128),
	DESCRIPTION VARCHAR2(1024),
	TARIFFTYPE VARCHAR2(32),
	EFFECTIVEDATE DATE,
	ENDDATE DATE,
	STATUS VARCHAR2(32),
	PROJECTCODE VARCHAR2(32),
	CONSTRAINT PK_BSSF_TE_GROUP_V PRIMARY KEY(ID,VERSION) USING INDEX
	(CREATE UNIQUE INDEX PK_BSSF_TE_GROUP_V ON BSSF_TE_GROUP_V(ID,VERSION) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.BSSF_PRODUCT_PRIORITY_TREE(
	PRODUCTPRIORITYTREEVERSIONID VARCHAR2(32) NOT NULL,
	TREE NCLOB,
	CONSTRAINT PK_BSSF_PRODUCT_PRIORITY_TREE PRIMARY KEY(PRODUCTPRIORITYTREEVERSIONID) USING INDEX
	(CREATE UNIQUE INDEX PK_BSSF_PRODUCT_PRIORITY_TREE ON BSSF_PRODUCT_PRIORITY_TREE(PRODUCTPRIORITYTREEVERSIONID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.BSSF_PLA_ACTION(
	ID VARCHAR2(16) NOT NULL,
	ROW_NUM NUMBER(3),
	COL NUMBER(3),
	PLACELLID VARCHAR2(32),
	FUNCTIONID VARCHAR2(32),
	CATEGORY VARCHAR2(32),
	PARAMS NCLOB,
	CONSTRAINT PK_BSSF_PLA_ACTION PRIMARY KEY(ID) USING INDEX
	(CREATE UNIQUE INDEX PK_BSSF_PLA_ACTION ON BSSF_PLA_ACTION(ID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.BSSF_PLA_CELL(
	ID VARCHAR2(16) NOT NULL,
	PLAID VARCHAR2(32),
	PLAVERSION VARCHAR2(32),
	ROW_NUM NUMBER(3),
	COL NUMBER(3),
	GROUPID VARCHAR2(32),
	TARIFFELEMENTID VARCHAR2(32),
	ISPRICINGCELL NUMBER(1),
	CONSTRAINT PK_BSSF_PLA_CELL PRIMARY KEY(ID) USING INDEX
	(CREATE UNIQUE INDEX PK_BSSF_PLA_CELL ON BSSF_PLA_CELL(ID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.SDP_IMPORT_LOG(
	CWDOCID VARCHAR2(16) NOT NULL,
	CWCREATED DATE,
	LASTUPDATEDDATE DATE,
	PROJECTCODE VARCHAR2(64),
	SYNCTYPE VARCHAR2(64),
	SYNCITEM VARCHAR2(64),
	SYNCSTATUS VARCHAR2(64),
	DESCRIPTION VARCHAR2(1024),
	CONSTRAINT PK_SDP_IMPORT_LOG PRIMARY KEY(CWDOCID) USING INDEX
	(CREATE UNIQUE INDEX PK_SDP_IMPORT_LOG ON SDP_IMPORT_LOG(CWDOCID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.SDP_SERVICE_CLASS(
	ID NUMBER(10),
	NAME VARCHAR2(128),
	CONVERGED NUMBER(10),
	CURRENCYTYPE NUMBER(10),
	TARIFFSTRUCTURE NUMBER(10),
	DADEFGROUPID NUMBER(10),
	UADEFGROUPID NUMBER(10),
	ALLOWMULTIPLEUSERS NUMBER(10),
	ACTIVESERVICELEVEL NUMBER(18,6),
	PASSIVESERVICELEVEL NUMBER(18,6),
	PREPAIDEMPTYLIMIT NUMBER(18,6),
	ENDOFPROVISIONING NUMBER(10),
	CWCREATED DATE,
	CWDOCID VARCHAR2(16) NOT NULL,
	LASTUPDATEDDATE DATE,
	CONSTRAINT PK_SDP_SERVICE_CLASS PRIMARY KEY(CWDOCID) USING INDEX
	(CREATE UNIQUE INDEX PK_SDP_SERVICE_CLASS ON SDP_SERVICE_CLASS(CWDOCID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.SDP_OFFER_DEFINITION(
	CWDOCID VARCHAR2(16) NOT NULL,
	CWCREATED DATE,
	ID NUMBER(10),
	OFFERDESCRIPTION VARCHAR2(1024),
	OFFERTYPE NUMBER(10),
	MAJORPRIORITY NUMBER(10),
	MINORPRIORITY NUMBER(10),
	PRODUCTCAPABILITY NUMBER(10),
	TIMESECONDRESOLUTIONCAPABILITY NUMBER(10),
	ENABLEATPROVISIONING NUMBER(10),
	STARTDATEUPDATEDURINGREMPRO NUMBER(10),
	FEECAPABLE NUMBER(10),
	PROVISIONCAPABLE NUMBER(10),
	DEPLETABLE NUMBER(10),
	ENDOFPROVISIONING NUMBER(10),
	PROCESSED DATE,
	CONSTRAINT PK_SDP_OFFER_DEFINITION PRIMARY KEY(CWDOCID) USING INDEX
	(CREATE UNIQUE INDEX PK_SDP_OFFER_DEFINITION ON SDP_OFFER_DEFINITION(CWDOCID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.SDP_OFFER_CONNECTED_DA(
	CWDOCID VARCHAR2(16) NOT NULL,
	CWCREATED DATE,
	LASTUPDATEDDATE DATE,
	ID NUMBER(10),
	PRIORITY NUMBER(10),
	PARENTDOCID VARCHAR2(16),
	CONSTRAINT PK_SDP_OFFER_CONNECTED_DA PRIMARY KEY(CWDOCID) USING INDEX
	(CREATE UNIQUE INDEX PK_SDP_OFFER_CONNECTED_DA ON SDP_OFFER_CONNECTED_DA(CWDOCID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.SDP_OFFER_ATTRIBUTES(
	CWDOCID VARCHAR2(16) NOT NULL,
	CWCREATED DATE,
	LASTUPDATEDDATE DATE,
	ATTRIBUTEDEFAULTVALUE VARCHAR2(128),
	ATTRIBUTENAME VARCHAR2(128),
	ATTRIBUTETYPE NUMBER(10),
	PARENTDOCID VARCHAR2(16),
	ISARRAY NUMBER(1),
	CONSTRAINT PK_SDP_OFFER_ATTRIBUTES PRIMARY KEY(CWDOCID) USING INDEX
	(CREATE UNIQUE INDEX PK_SDP_OFFER_ATTRIBUTES ON SDP_OFFER_ATTRIBUTES(CWDOCID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.SDP_OFFER_ARRAY_ATTRIBUTES(
	CWDOCID VARCHAR2(16) NOT NULL,
	CWCREATED DATE,
	PARENTDOCID VARCHAR2(16),
	ATTRIBUTETYPE NUMBER(10),
	ATTRIBUTEDEFAULTVALUE VARCHAR2(128),
	ATTRIBUTENAME VARCHAR2(128),
	ISARRAY NUMBER(1),
	LASTUPDATEDDATE DATE,
	CONSTRAINT PK_SDP_OFFER_ARRAY_ATTRIBUTES PRIMARY KEY(CWDOCID) USING INDEX
	(CREATE UNIQUE INDEX PK_SDP_OFFER_ARRAY_ATTRIBUTES ON SDP_OFFER_ARRAY_ATTRIBUTES(CWDOCID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.SDP_DA_DEFINITION(
	ID NUMBER(10),
	PARENTDOCID VARCHAR2(16),
	DESCRIPTION VARCHAR2(1024),
	OFFERID NUMBER(10),
	DA_TYPE NUMBER(10),
	DA_OWNER VARCHAR2(128),
	RESERVATIONAWARE NUMBER(10),
	PRODUCTPRIVATE NUMBER(10),
	ENDOFPROVISIONING NUMBER(10),
	CWCREATED DATE,
	CWDOCID VARCHAR2(16) NOT NULL,
	LASTUPDATEDDATE DATE,
	CONSTRAINT PK_SDP_DA_DEFINITION PRIMARY KEY(CWDOCID) USING INDEX
	(CREATE UNIQUE INDEX PK_SDP_DA_DEFINITION ON SDP_DA_DEFINITION(CWDOCID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.SDP_DA_DEF_GROUP(
	ID NUMBER(10),
	CWCREATED DATE,
	CWDOCID VARCHAR2(16) NOT NULL,
	LASTUPDATEDDATE DATE,
	CONSTRAINT PK_SDP_DA_DEF_GROUP PRIMARY KEY(CWDOCID) USING INDEX
	(CREATE UNIQUE INDEX PK_SDP_DA_DEF_GROUP ON SDP_DA_DEF_GROUP(CWDOCID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.BSSF_CHARGING_SERVICES_PQDIR(
	CWDOCID VARCHAR2(16) NOT NULL,
	CHARGINGSERVICE VARCHAR2(128),
	PHYSICALQUANTITY VARCHAR2(256),
	DIRECTION VARCHAR2(256),
	CONSTRAINT PK_BSSF_CHARGING_SERVICES_PQDI PRIMARY KEY(CWDOCID) USING INDEX
	(CREATE UNIQUE INDEX PK_BSSF_CHARGING_SERVICES_PQDI ON BSSF_CHARGING_SERVICES_PQDIR(CWDOCID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.BSSF_CHARGING_SERVICES(
	CODE VARCHAR2(128) NOT NULL,
	NAME VARCHAR2(128),
	RESOURCESUBTYPE VARCHAR2(256),
	DESCRIPTION VARCHAR2(1024),
	CONSTRAINT PK_BSSF_CHARGING_SERVICES PRIMARY KEY(CODE) USING INDEX
	(CREATE UNIQUE INDEX PK_BSSF_CHARGING_SERVICES ON BSSF_CHARGING_SERVICES(CODE) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.BSSF_CHARGING_SERVICES_CP(
	GROUPNAME VARCHAR2(128),
	CHARGINGSERVICE VARCHAR2(128),
	FUNCTIONNAME VARCHAR2(128),
	CWDOCID VARCHAR2(16) NOT NULL,
	CONSTRAINT PK_BSSF_CHARGING_SERVICES_CP PRIMARY KEY(CWDOCID) USING INDEX
	(CREATE UNIQUE INDEX PK_BSSF_CHARGING_SERVICES_CP ON BSSF_CHARGING_SERVICES_CP(CWDOCID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.BSSF_CHARGING_PARAMS(
	CWDOCID VARCHAR2(16) NOT NULL,
	CAPABILITYID VARCHAR2(128),
	SEQUENCE NUMBER(10),
	CODE VARCHAR2(128),
	NAME VARCHAR2(256),
	LABEL VARCHAR2(256),
	DESCRIPTION VARCHAR2(1024),
	DATATYPE VARCHAR2(64),
	DATARANGE VARCHAR2(256),
	COLLECTIONTYPE VARCHAR2(32),
	CONFIGLEVEL VARCHAR2(32),
	LISTTYPE VARCHAR2(32),
	LISTTYPEVALUE VARCHAR2(256),
	IMTYPE VARCHAR2(256),
	OPTIONALITY VARCHAR2(64),
	DEFAULTVALUE VARCHAR2(1024),
	ENUMVALUES VARCHAR2(1024),
	CONSTRAINT PK_BSSF_CHARGING_PARAMS PRIMARY KEY(CWDOCID) USING INDEX
	(CREATE UNIQUE INDEX PK_BSSF_CHARGING_PARAMS ON BSSF_CHARGING_PARAMS(CWDOCID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;

CREATE TABLE c##train3.BSSF_CHARGING_CAPABILITY_GROUP(
	GROUPNAME VARCHAR2(128),
	CAPABILITYID VARCHAR2(256),
	CWDOCID VARCHAR2(16) NOT NULL,
	CONSTRAINT PK_BSSF_CHARGING_CAPABILITY_GR PRIMARY KEY(CWDOCID) USING INDEX
	(CREATE UNIQUE INDEX PK_BSSF_CHARGING_CAPABILITY_GR ON BSSF_CHARGING_CAPABILITY_GROUP(CWDOCID) TABLESPACE &DEFAULT_TABLESPACE_INDEX)
)
TABLESPACE &DEFAULT_TABLESPACE_TABLE;


drop index "UNIQUE_CODES";

ALTER TABLE CWDBCODETABLES
 MODIFY (
	CTTYPE VARCHAR2(64),
	CODE VARCHAR2(64));

CREATE UNIQUE INDEX "UNIQUE_CODES" ON "CWDBCODETABLES" (CASE  WHEN ("VALID_FROM"<>"VALID_TO" OR "VALID_TO" IS NULL) THEN "CTTYPE" ELSE NULL END , CASE  WHEN ("VALID_FROM"<>"VALID_TO" OR "VALID_TO" IS NULL) THEN "CODE" ELSE NULL END , CASE  WHEN ("VALID_FROM"<>"VALID_TO" OR "VALID_TO" IS NULL) THEN "VALID_FROM" ELSE NULL END );


--alter table "BSSF_PLA_CELL" drop column "CWDOCID";
--alter table "BSSF_PLA_ACTION" drop column "CWDOCID";

-- modified for handling exception (column does not exist)
declare 
	invalid_column exception;
	pragma exception_init(invalid_column, -00904); -- column does not exist (exception)
begin
	execute immediate 'alter table BSSF_PLA_CELL drop column CWDOCID';
	exception when invalid_column then null;
end;
/
declare 
	invalid_column exception;
	pragma exception_init(invalid_column, -00904); -- column does not exist (exception)
begin
	execute immediate 'alter table BSSF_PLA_ACTION drop column CWDOCID';
	exception when invalid_column then null;
end;
/
ALTER TABLE CWPC_BASKETITEM ADD relations VARCHAR2(4000);

ALTER TABLE CWPC_BASKETITEMCHARGE MODIFY (CURRENCY NULL);
COMMIT;



INSERT INTO CWPRODUCTPROPERTIES (ID,NVALUE) VALUES('ecm',20140910);
INSERT INTO CWPRODUCTPROPERTIES (ID,NVALUE) VALUES('ecmDTLib',20140328);
INSERT INTO CWPRODUCTPROPERTIES (ID,NVALUE) VALUES('ecmBillingAdapterValidation',1);
UPDATE CWPRODUCTPROPERTIES SET NVALUE=00006003 WHERE ID='catalogClient';

COMMIT;


-- Generated by Ericsson Service Designer on Wed Mar 01 10:49:21 CLT 2017

