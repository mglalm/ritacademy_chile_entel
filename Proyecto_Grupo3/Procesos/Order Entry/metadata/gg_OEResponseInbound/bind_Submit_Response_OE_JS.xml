<?xml version="1.0" encoding="UTF-8" ?>
<binding name="gg_OEResponseInbound.Submit_Response_OE_JS">
  <extensionList>
    <extension name="submitResponseOE" type="ext">
      <element>Operation</element>
      <elementItemMap>
        <elementItem key="script"><![CDATA[
          // Aqui va el codigo de respuesta

          provisionManagement.dummy();

          var MSISDN=input.MSISDN;
          var IMSI=input.IMSI;
          var ESTADO=input.ESTADO;
          var ID_CLIENTE=input.ID_CLIENTE;
          var ID_ORDER=input.ID_ORDER;
          // aqui va el Update


          var fnd = new Finder('customerManagement.customerFinder');
          fnd.searchDocument.ID_CLIENTE =ID_CLIENTE ;
          var result = fnd.search();//retorna una DataObjectList() -> ARRAY
          var doc = result && result.length>0 ? result[0] : null;
          if(doc)
          {
              doc.customerMsisdn =  MSISDN;
              doc.save();

          }

          var fnd_o = new Finder('orderManagement.buscaOrder');
          fnd_o.searchDocument.CWDOCID =ID_ORDER ;
          var result = fnd_o.search();//retorna una DataObjectList() -> ARRAY
          var doc_o = result && result.length>0 ? result[0] : null;
          if(doc_o)
          {
              doc_o.Estado = ESTADO ;
              doc_o.save();

          }




          var output = new DataStructure("gg_OEResponseInbound.Response");
          output.Ack=10;
          return output;
        ]]></elementItem>
      </elementItemMap>
    </extension>
  </extensionList>
  <interface>iface_gg_OEResponseInbound.Submit_Response_OE</interface>
  <label>Submit_Response_OE_JS</label>
  <metaVersion>25</metaVersion>
  <provider>prov_cwf.jsprov</provider>
</binding>